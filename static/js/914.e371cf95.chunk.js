"use strict";(self.webpackChunkreact_team_project=self.webpackChunkreact_team_project||[]).push([[914],{7914:function(e,a,r){r.r(a),r.d(a,{default:function(){return F}});var n=r(5861),t=r(9439),s=r(4687),c=r.n(s),o=r(2791),l=r(9434),m=r(4217),_=r(2426),i=r.n(_),u=r(5705),d=r(6727),p=d.Ry().shape({userName:d.Z_().min(3,"Too Short!").max(36,"Too Long!").required("Required"),email:d.Z_().email("Invalid email").required("Required"),phone:d.Z_().matches(/^\+380\d{9}$/,"Phone number must be in the format +380XXXXXXXXX"),telegram:d.Z_().matches(/^[a-zA-Z0-9_@]*$/,'value contains only latin letters, numbers, underscore and "@" symbol'),avatar:d.Z_("Invalid avatar"),birthday:d.hT()}),h={user_page:"UserForm_user_page__IdM-8",user_page__avatar_container:"UserForm_user_page__avatar_container__clYDC",user_page__avatar:"UserForm_user_page__avatar__heHgM",avatar_upload_btn:"UserForm_avatar_upload_btn__IT77d",user_page__name:"UserForm_user_page__name__gaZeS",user_page__role:"UserForm_user_page__role__pNHUO",username_form:"UserForm_username_form__+nQBC",username_form__label:"UserForm_username_form__label__s+UJx",username_form_input:"UserForm_username_form_input__dcEYB",is_invalid:"UserForm_is_invalid__eJyYG","username_form-input--last":"UserForm_username_form-input--last__iUwS9",username_form__submit:"UserForm_username_form__submit__l-9Nj","username__form-submit":"UserForm_username__form-submit__ES2cl",invalid_feedback:"UserForm_invalid_feedback__1Bev4",date_picker:"UserForm_date_picker__oJaLN",labelText:"UserForm_labelText__AeCIa"},f=r(1413),b=r(9513),v=r.n(b),g=r(184),N=(new Date).toISOString().split("T")[0],x=function(e){e.name;var a=e.birthday,r=(0,u.U$)("date"),n=(0,t.Z)(r,3),s=n[0],c=n[1],l=n[2],m=c.value,_=l.setValue,d=(0,o.useState)(i()()),p=(0,t.Z)(d,2),h=p[0],b=p[1],x=(0,o.useCallback)((function(e){var a=i()(e).format("dddd");return"Saturday"===a||"Sunday"===a}),[]),y=(0,o.useCallback)((function(e){var a=[],r=i()(h).startOf("month"),n=i()(h).endOf("month");return(i()(e).isBefore(r)||i()(e).isAfter(n))&&a.push("outside-month"),x(e)&&a.push("highlighted-weekend"),a.join(" ")}),[h,x]),j=(0,o.useCallback)((function(e){b(i()(e))}),[]),U=(0,o.useCallback)((function(){b(m||new Date(a||N))}),[m,a]);return(0,g.jsx)(v(),(0,f.Z)((0,f.Z)({},s),{},{selected:m||new Date(a||N),onChange:function(e){return _(e)},onMonthChange:j,dayClassName:y,calendarStartDay:1,placeholderText:a||"Choose a date",formatWeekDay:function(e){return e.charAt(0)},showPopperArrow:!1,onCalendarClose:U}))},y=r(1686),j=["userName","email","birthday","phone","telegram"];function U(e){var a=e.theme,r=(0,l.v9)(m.dy),s=(0,o.useState)(null),_=(0,t.Z)(s,2),d=_[0],f=_[1],b=(0,o.useState)(null),v=(0,t.Z)(b,2),N=v[0],U=v[1],F={phone:r.phone||"",telegram:r.telegram||"",userName:r.userName,email:r.email,birthday:r.birthday,avatarUpload:!1},k=function(){var e=(0,n.Z)(c().mark((function e(a){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new FormData,j.forEach((function(e){if(a[e])if("birthday"!==e)r.append(e,a[e]);else{var n=i()(a[e]).format("YYYY-MM-DD");r.append("birthday",n)}})),N&&r.append("avatar",N);try{y.Notify.success("Success.Info updated.")}catch(n){console.log(n),y.Notify.error("Error.Something gone wrong.")}case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,g.jsx)("section",{className:"".concat(h.user_page," ").concat(a),children:(0,g.jsx)(u.J9,{initialValues:F,validationSchema:p,onSubmit:k,enableReinitialize:!0,children:function(e){return(0,g.jsxs)(u.l0,{children:[(0,g.jsxs)("div",{className:"".concat(h.user_page__avatar_container," ").concat(a),children:[(0,g.jsx)("img",{className:"".concat(h.user_page__avatar," ").concat(a),src:d||r.avatar,alt:"User Avatar"}),(0,g.jsxs)("div",{className:"".concat(h.avatar_upload_container," ").concat(a),children:[(0,g.jsx)(u.gN,{id:"avatar-upload",name:"avatar",type:"file",accept:"image/*",onChange:function(a){return function(e,a){var r=e.target.files[0];U(r);var n=new FileReader,t=new Blob([r],{type:r.type});n.readAsDataURL(t),n.onload=function(){f(n.result),a("avatar-upload",!!r)}}(a,e.setFieldValue)},style:{display:"none"}}),(0,g.jsx)("label",{htmlFor:"avatar-upload",className:"".concat(h.avatar_upload_btn," ").concat(a)})]}),(0,g.jsx)("h3",{className:"".concat(h.user_page__name," ").concat(a),children:r.userName||"Username"}),(0,g.jsx)("p",{className:"".concat(h.user_page__role," ").concat(a),children:"User"})]}),(0,g.jsxs)("div",{className:"".concat(h.username_form," ").concat(a),children:[(0,g.jsxs)("label",{htmlFor:"userName",className:"".concat(h.username_form__label," ").concat(a),children:["Username",(0,g.jsx)(u.gN,{name:"userName",type:"text",className:"".concat(h.username_form_input," ").concat(a)+(e.errors.userName&&e.touched.userName?h.is_invalid:""),placeholder:"User name"}),(0,g.jsx)(u.Bc,{name:"userName",component:"div",className:h.invalid_feedback})]}),(0,g.jsxs)("label",{htmlFor:"birthday",className:"".concat(h.username_form__label," ").concat(a),children:[(0,g.jsx)("p",{className:h.labelText,children:"Birthday"}),(0,g.jsx)(x,{name:"birthday",birthday:e.values.birthday,className:h.my_date_picker}),(0,g.jsx)(u.Bc,{name:"birthday",component:"div",className:h.invalid_feedback})]}),(0,g.jsxs)("label",{htmlFor:"email",className:"".concat(h.username_form__label," ").concat(a),children:[(0,g.jsx)("p",{className:h.labelText,children:"Email"}),(0,g.jsx)(u.gN,{name:"email",type:"email",className:"".concat(h.username_form_input," ").concat(a)}),(0,g.jsx)(u.Bc,{name:"email",component:"div",className:h.invalid_feedback})]}),(0,g.jsxs)("label",{htmlFor:"phone",className:"".concat(h.username_form__label," ").concat(a),children:[(0,g.jsx)("p",{className:h.labelText,children:"Phone"}),(0,g.jsx)(u.gN,{className:"".concat(h.username_form_input," ").concat(a),id:"phone",name:"phone",type:"text",placeholder:"Enter your phone"}),(0,g.jsx)(u.Bc,{name:"phone",component:"div",className:h.invalid_feedback})]}),(0,g.jsxs)("label",{htmlFor:"telegram",className:"".concat(h.username_form__label," ").concat(a),children:["Telegram:",(0,g.jsx)(u.gN,{className:"".concat(h.username_form_input," ").concat(a),id:"telegram",name:"telegram",type:"text",placeholder:"Enter your Telegram link"}),(0,g.jsx)(u.Bc,{name:"telegram",component:"div",className:h.invalid_feedback})]}),(0,g.jsx)("button",{type:"submit",className:"".concat(h.username_form__submit," ").concat(a),disabled:e.isSubmitting||!e.touched||!e.dirty,children:"Save Changes"})]})]})}})})}function F(){return(0,g.jsxs)("main",{children:[(0,g.jsx)("span",{children:"AccountPage"}),(0,g.jsx)(U,{})]})}}}]);
//# sourceMappingURL=914.e371cf95.chunk.js.map